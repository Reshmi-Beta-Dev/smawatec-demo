<!-- Material Design Device Organizer -->
<div class="devices-container">
  <!-- Search -->
  <mat-card class="search-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>search</mat-icon>
        Search
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="search-grid">
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Keyword</mat-label>
          <input matInput [(ngModel)]="searchData.keyword">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Building</mat-label>
          <input matInput [(ngModel)]="searchData.building">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Building Group</mat-label>
          <input matInput [(ngModel)]="searchData.buildingGroup">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Device Name</mat-label>
          <input matInput [(ngModel)]="searchData.deviceName">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>City</mat-label>
          <input matInput [(ngModel)]="searchData.city">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Zip Code</mat-label>
          <input matInput [(ngModel)]="searchData.zipCode">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Tenant</mat-label>
          <input matInput [(ngModel)]="searchData.tenant">
        </mat-form-field>
        <mat-form-field appearance="outline" class="search-field">
          <mat-label>Tenant ID</mat-label>
          <input matInput [(ngModel)]="searchData.tenantId">
        </mat-form-field>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Device Info -->
  <mat-card class="device-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>memory</mat-icon>
        Device Information
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="device-info">
        <div class="device-field">
          <span class="device-label">Device Name</span>
          <span class="device-value">New Device 019201290</span>
        </div>
        <div class="device-field">
          <span class="device-label">Serial Number</span>
          <span class="device-value">SM239012930</span>
        </div>
      </div>
      <div class="card-actions">
        <button mat-raised-button color="primary" (click)="assignToNewLocation()">
          <mat-icon>add_location_alt</mat-icon>
          Assign to New Location
        </button>
        <button mat-stroked-button (click)="unassignDevice()">
          <mat-icon>link_off</mat-icon>
          Unassign
        </button>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Building Groups -->
  <mat-card class="table-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>group_work</mat-icon>
        Building Groups
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="table-container">
        <table mat-table [dataSource]="[
            { id:1, group:'PAR - GP1', building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place' },
            { id:2, group:'PAR - GP1', building:'PAR-GP1-B12012', zip:'23234', address:'Paris, Champs Elysees, Rue de la Place' },
            { id:3, group:'PAR - GP1', building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place' },
            { id:4, group:'PAR - GP1', building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place' }
          ]" class="groups-table">
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let e">{{ e.id }}</td>
          </ng-container>
          <ng-container matColumnDef="group">
            <th mat-header-cell *matHeaderCellDef>Group</th>
            <td mat-cell *matCellDef="let e">{{ e.group }}</td>
          </ng-container>
          <ng-container matColumnDef="building">
            <th mat-header-cell *matHeaderCellDef>Building</th>
            <td mat-cell *matCellDef="let e">{{ e.building }}</td>
          </ng-container>
          <ng-container matColumnDef="zip">
            <th mat-header-cell *matHeaderCellDef>Zip Code</th>
            <td mat-cell *matCellDef="let e">{{ e.zip }}</td>
          </ng-container>
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef>Address</th>
            <td mat-cell *matCellDef="let e">{{ e.address }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="['id','group','building','zip','address']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['id','group','building','zip','address'];"
              (click)="onGroupRowClick(row.id - 1)"
              [class.selected]="selectedGroupRow === (row.id - 1)"></tr>
        </table>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Building Table -->
  <mat-card class="table-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>business</mat-icon>
        Building
      </mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <div class="table-container">
        <table mat-table [dataSource]="[
            { id:1, building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place', apartment:'Block 1, L23, Ap12', tenant:'Bonaparte, Napoleon' },
            { id:2, building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place', apartment:'Block 1, L23, Ap12', tenant:'Bonaparte, Napoleon' },
            { id:3, building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place', apartment:'Block 1, L23, Ap12', tenant:'Bonaparte, Napoleon' },
            { id:4, building:'PAR-GP1-B12012', zip:'23212', address:'Paris, Champs Elysees, Rue de la Place', apartment:'Block 1, L23, Ap12', tenant:'Bonaparte, Napoleon' }
          ]" class="building-table">
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let e">{{ e.id }}</td>
          </ng-container>
          <ng-container matColumnDef="building">
            <th mat-header-cell *matHeaderCellDef>Building</th>
            <td mat-cell *matCellDef="let e">{{ e.building }}</td>
          </ng-container>
          <ng-container matColumnDef="zip">
            <th mat-header-cell *matHeaderCellDef>Zip Code</th>
            <td mat-cell *matCellDef="let e">{{ e.zip }}</td>
          </ng-container>
          <ng-container matColumnDef="address">
            <th mat-header-cell *matHeaderCellDef>Address</th>
            <td mat-cell *matCellDef="let e">{{ e.address }}</td>
          </ng-container>
          <ng-container matColumnDef="apartment">
            <th mat-header-cell *matHeaderCellDef>Apartment</th>
            <td mat-cell *matCellDef="let e">{{ e.apartment }}</td>
          </ng-container>
          <ng-container matColumnDef="tenant">
            <th mat-header-cell *matHeaderCellDef>Tenant</th>
            <td mat-cell *matCellDef="let e">{{ e.tenant }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="['id','building','zip','address','apartment','tenant']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['id','building','zip','address','apartment','tenant'];"
              (click)="onBuildingRowClick(row.id - 1)"
              [class.selected]="selectedBuildingRow === (row.id - 1)"></tr>
        </table>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Unassigned Devices -->
  <mat-card class="table-card">
    <mat-card-header>
      <mat-card-title>
        <mat-icon>devices_other</mat-icon>
        Unassigned Devices
      </mat-card-title>
      <div class="header-actions">
        <button mat-raised-button color="primary" (click)="findNewDevice()">
          <mat-icon>search</mat-icon>
          Find New Device
        </button>
      </div>
    </mat-card-header>
    <mat-card-content>
      <div class="table-container">
        <table mat-table [dataSource]="[
            { id:1, serial:'SM233123-0901', lastName:'XXX', lastAddress:'None', lastApartment:'None', lastTenant:'None' },
            { id:2, serial:'SM233123-0984', lastName:'PAR-GP1-B120912', lastAddress:'23129 Paris, Champs Elysess, Rue da Place 31', lastApartment:'Block 1, L23, Ap12', lastTenant:'Mitterand, Francois' }
          ]" class="unassigned-table">
          <ng-container matColumnDef="id">
            <th mat-header-cell *matHeaderCellDef>#</th>
            <td mat-cell *matCellDef="let e">{{ e.id }}</td>
          </ng-container>
          <ng-container matColumnDef="serial">
            <th mat-header-cell *matHeaderCellDef>Serial Nummer</th>
            <td mat-cell *matCellDef="let e">{{ e.serial }}</td>
          </ng-container>
          <ng-container matColumnDef="lastName">
            <th mat-header-cell *matHeaderCellDef>Last Device Name</th>
            <td mat-cell *matCellDef="let e">{{ e.lastName }}</td>
          </ng-container>
          <ng-container matColumnDef="lastAddress">
            <th mat-header-cell *matHeaderCellDef>Last Address</th>
            <td mat-cell *matCellDef="let e">{{ e.lastAddress }}</td>
          </ng-container>
          <ng-container matColumnDef="lastApartment">
            <th mat-header-cell *matHeaderCellDef>Last Apartment</th>
            <td mat-cell *matCellDef="let e">{{ e.lastApartment }}</td>
          </ng-container>
          <ng-container matColumnDef="lastTenant">
            <th mat-header-cell *matHeaderCellDef>Last Tenant</th>
            <td mat-cell *matCellDef="let e">{{ e.lastTenant }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="['id','serial','lastName','lastAddress','lastApartment','lastTenant']"></tr>
          <tr mat-row *matRowDef="let row; columns: ['id','serial','lastName','lastAddress','lastApartment','lastTenant'];"
              (click)="onUnassignedRowClick(row.id - 1)"
              [class.selected]="selectedUnassignedRow === (row.id - 1)"></tr>
        </table>
      </div>
    </mat-card-content>
  </mat-card>
</div>
